{#
    /**
     * @file
     * Defaults
     * @package     Frontender Platform
     * @subpackage  Road-trip Project
     * @author      Jeroen Leijten
     * @license     MIT License
     * @copyright   Copyright (C) 2014 - 2019 Dipity B.V. All rights reserved.
     * @link        http://getfrontender.com
     */
#}

{% set columns_map = {
    "1": "",
    "2": "6u 12u$(small)",
    "3": "4u 12u$(medium)",
    "4": "3u 12u$(medium)"
} %}

{% import "macros/template.html.twig" as helper %}

<{{ config.container_tag|default('div') }} {{ helper.class_attribute(config, ['']|join('  |  ')|trim)|raw }} id="article" {{ helper.container_id_attribute(frontender, 'frontender')|raw }}>

    {% if content.body|length %}
        {% if content.title|t or (content.title|t and content.standfirst|t) %}
            <header class="8u 12u$(large) trailer--double">
                <h2>{{ content.title|t }}</h2>
                {{ content.standfirst|t|md|raw }}
            </header>
        {% elseif content.title|t or content.standfirst|t %}
            <div class="header trailer">
                <h2>{{ content.title|t }}</h2>
                {{ content.standfirst|t|md|raw }}
            </div>
        {% endif %}

        <div class="row">
            {% for entry in content.body %}
                <div class="{{ columns_map|slice(config.columns|default(3) - 1)|first }}">
                    {% if entry.title|t %}
                        <h3>{{ entry.title|t }}</h3>
                    {% endif %}
                    {% if entry.body|t %}
                        {{ entry.body|t|md|raw }}
                    {% endif %}
                </div>
                {% if loop.index is divisible by( config.columns|default(3) ) %}
                    </div>
                    <div class="row">
                {% endif %}
            {% endfor %}
        </div>
    {% endif %}
</{{ config.container_tag|default('div') }}>
