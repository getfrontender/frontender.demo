{#
    /**
     * @file        image.html.twig
     * @package     Frontender Platform
     * @subpackage  Road-trip Project
     * @author      Babs GÃ¶sgens
     * @license     MIT License
     * @copyright   Copyright (C) 2014 - 2019 Dipity B.V. All rights reserved.
     * @link        http://getfrontender.com
     */
#}

{% macro crop(image, config = {}, class = "") %}

    {#  Merge the default settings with any override #}
    {% set config = {w: 640, h: 480, fit: "crop", crop: "faces", q: 80}|merge(config)|key_value_join("=") %}

    {# If the url contains a querypath, string the additional config using & #}
    {% set separator = image.urls.raw|split("?")|length ? "&" : "?" %}

    {{ [image.urls.raw, config|join("&")]|join(separator) }}

{% endmacro %}